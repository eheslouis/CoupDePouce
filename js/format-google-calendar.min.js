var formatGoogleCalendar=function(){"use strict";var e=function(e){var n;jQuery.getJSON(e.calendarUrl,function(o){n=o.items,n.sort(t).reverse();var i,s=0,c=0,u=[],p=[],m=[],g=jQuery(e.upcomingSelector),d=jQuery(e.pastSelector);-1===e.pastTopN&&(e.pastTopN=n.length),-1===e.upcomingTopN&&(e.upcomingTopN=n.length),e.past===!1&&(e.pastTopN=0),e.upcoming===!1&&(e.upcomingTopN=0);for(i in n)r(n[i].end.dateTime||n[i].end.date)?s<e.pastTopN&&(u.push(n[i]),s++):m.push(n[i]);m.reverse();for(i in m)c<e.upcomingTopN&&(p.push(m[i]),c++);for(i in u)d.append(a(u[i],e.itemsTagName,e.format));for(i in p)g.append(a(p[i],e.itemsTagName,e.format));0!==g.children().length&&jQuery(e.upcomingHeading).insertBefore(g),0!==d.children().length&&jQuery(e.pastHeading).insertBefore(d)})},t=function(e,t){return new Date(e.start.dateTime||e.start.date).getTime()-new Date(t.start.dateTime||t.start.date).getTime()},n=function(e,t){var n,a={};for(n in e)a[n]=e[n];for(n in t)a[n]=t[n];return a},a=function(e,t,n){var a,r=o(e.start.dateTime||e.start.date),i=o(e.end.dateTime||e.end.date),s=m(r,i),c="<"+t+">",u=e.summary||"",p=e.description||"",g=e.location||"";for(a=0;a<n.length;a++)n[a]=n[a].toString(),"*summary*"===n[a]?c=c.concat('<span class="summary">'+u+"</span>"):"*date*"===n[a]?c=c.concat('<span class="date">'+s+"</span>"):"*description*"===n[a]?c=c.concat('<span class="description">'+p+"</span>"):"*location*"===n[a]?c=c.concat('<span class="location">'+g+"</span>"):("*location*"===n[a+1]&&""!==g||"*summary*"===n[a+1]&&""!==u||"*date*"===n[a+1]&&""!==s||"*description*"===n[a+1]&&""!==p)&&(c=c.concat(n[a]));return c+"</"+t+">"},r=function(e){var t=new Date(e),n=new Date;return n.getTime()>t.getTime()?!0:!1},o=function(e){return e=new Date(e),[e.getDate(),e.getMonth(),e.getFullYear()]},i=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t[e]},s=function(e){return e[0]+" "+i(e[1])+" "+e[2]},c=function(e,t){return i(e[1])+" "+e[0]+"-"+t[0]+", "+e[2]},u=function(e,t){return i(e[1])+" "+e[0]+"-"+i(t[1])+" "+t[0]+", "+e[2]},p=function(e,t){return i(e[1])+" "+e[0]+", "+e[2]+"-"+i(t[1])+" "+t[0]+", "+t[2]},m=function(e,t){var n="";return n=e[0]===t[0]?e[1]===t[1]?e[2]===t[2]?s(e):p(e,t):e[2]===t[2]?u(e,t):p(e,t):e[1]===t[1]?e[2]===t[2]?c(e,t):p(e,t):e[2]===t[2]?u(e,t):p(e,t)};return{init:function(t){var a={calendarUrl:"https://www.googleapis.com/calendar/v3/calendars/milan.kacurak@gmail.com/events?key=AIzaSyCR3-ptjHE-_douJsn8o20oRwkxt-zHStY",past:!0,upcoming:!0,pastTopN:-1,upcomingTopN:-1,itemsTagName:"li",upcomingSelector:"#events-upcoming",pastSelector:"#events-past",upcomingHeading:"<h2>Upcoming events</h2>",pastHeading:"<h2>Past events</h2>",format:["*date*",": ","*summary*"," &mdash; ","*description*"," in ","*location*"]};a=n(a,t),e(a)}}}();